<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="scripts/script.js"></script>
    <title>Listening Statistics</title>
    <link rel="stylesheet" href="styles/style.css">
</head>

<body>
    <h2>View your listening history below!</h2>
    <p>Use the buttons below to show your music listening trends over the last month, 6 months, and all time</p>
    <div>
        <button type="button" onclick="shortTermChart()">1 Month</button>
        <button type="button" onclick="medTermChart()">6 Months</button>
        <button type="button" onclick="longTermChart()">All Time</button>
    </div>
    <p id="current-display">Currently showing: nothing</p>
    <div id="stats-content">
        <div id="chart-div">
            <canvas id="myChart"></canvas>
        </div>
        <div>
            <ul id="genreList">
            </ul>
        </div>
    </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>

    const shortTermChart = () => {
        getTopArtists(1, "short_term");
        getTopArtists(2, "short_term");
        var textContent = document.getElementById('current-display');
        textContent.innerText = "Currently showing: 1 Month listening stats";
    }

    const medTermChart = () => {
        getTopArtists(1, "medium_term");
        getTopArtists(2, "medium_term");
        var textContent = document.getElementById('current-display');
        textContent.innerText = "Currently showing: 6 Month listening stats";
    }

    const longTermChart = () => {
        getTopArtists(1, "long_term");
        getTopArtists(2, "long_term");
        var textContent = document.getElementById('current-display');
        textContent.innerText = "Currently showing: All time listening stats";
    }
</script>

</html>